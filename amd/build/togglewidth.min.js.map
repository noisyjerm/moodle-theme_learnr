{"version":3,"file":"togglewidth.min.js","sources":["../src/togglewidth.js"],"sourcesContent":["import * as Ajax from 'core/ajax';\nexport const init = () => {\n    document.getElementById('usertogglewidth').addEventListener('click', toggleWidth);\n};\n\nconst toggleWidth = () => {\n    // Set a user pref and add a class to Page\n    let el = document.getElementById(\"page\");\n    let isAlreadyFull = el.classList.contains('learnr-fullwidth');\n    Ajax.call([{\n        methodname: 'core_user_set_user_preferences',\n        args: {\n            'preferences': [{\n                'name': 'theme_learnr_fullwidth',\n                'userid': 2,\n                'value': !isAlreadyFull\n            }]\n        },\n        done: function () {\n            if (isAlreadyFull) {\n                el.classList.remove(\"learnr-fullwidth\");\n                el.classList.add(\"learnr-narrowwidth\");\n            } else {\n                el.classList.add(\"learnr-fullwidth\");\n                el.classList.remove(\"learnr-narrowwidth\");\n            }\n        }\n    }]);\n};"],"names":["document","getElementById","addEventListener","toggleWidth","el","isAlreadyFull","classList","contains","Ajax","call","methodname","args","done","remove","add"],"mappings":"ylCACoB,KAChBA,SAASC,eAAe,mBAAmBC,iBAAiB,QAASC,oBAGnEA,YAAc,SAEZC,GAAKJ,SAASC,eAAe,QAC7BI,cAAgBD,GAAGE,UAAUC,SAAS,oBAC1CC,KAAKC,KAAK,CAAC,CACPC,WAAY,iCACZC,KAAM,aACa,CAAC,MACJ,gCACE,SACAN,iBAGlBO,KAAM,WACEP,eACAD,GAAGE,UAAUO,OAAO,oBACpBT,GAAGE,UAAUQ,IAAI,wBAEjBV,GAAGE,UAAUQ,IAAI,oBACjBV,GAAGE,UAAUO,OAAO"}